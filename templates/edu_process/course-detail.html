{% extends 'skeleton.html' %}
{% load staticfiles %}
{% block head %}
    <title>{# course name here #} | KPI EDU</title>
    <meta name="description" content="">

    <link rel="stylesheet" href="{% static 'css/course-detail.css' %}">
{% endblock %}

{% block body %}
    {# Кнопка, яка відкриває навігаційну панель на мобільних #}
    <div class="navbar-opener">
        <span class="glyphicon glyphicon-menu-down"></span>
    </div>

    {#   NAVBAR   #}
    {% if request.user.profile.is_student %}
        {% include 'student/components/navbar.html' %}
    {% elif request.user.profile.is_teacher %}
        {% include 'teacher/components/navbar.html' %}
    {% endif %}

    <section class="title-page-parallax">
        <div id="image-parallax" data-speed="4" data-type="background" style="background-image: url(https://www.gettyimages.ie/gi-resources/images/Homepage/Hero/UK/CMS_Creative_164657191_Kingfisher.jpg);"></div>
        <div class="title-parallax">
            <h1>{{ course.name }}</h1>
            <div class="date-likes">
                <span class="date">{{ course.pub_date }}</span>
                <span aria-hidden="true" class="glyphicon glyphicon-star"></span>
                <span aria-hidden="true" class="glyphicon glyphicon-star"></span>
                <span aria-hidden="true" class="glyphicon glyphicon-star"></span>
                <span aria-hidden="true" class="glyphicon glyphicon-star-empty">
                </span><span aria-hidden="true" class="glyphicon glyphicon-star-empty"></span>
            </div>
        </div>
    </section>

    <div class="content">
        <div class="row">
            <div class="col-xs-12 col-sm-8">
                <div class="all-info">
                    <div class="description">
                        <h2>Опис курсу:</h2>
                        <p>
                            {{ course.description }}
                        </p>
                    </div>
                    <div class="sections">
                        <h2>Розділи:</h2>
                        {% for section in course.module_set.all %}
                            <div class="section">
                                <div class="section-outer">
                                    <div class="section-left">
                                        <h3>{{ section.name }}</h3>
                                        <p class="section-description">
                                            {{ section.description }}
                                        </p>
                                    </div>
                                    <div class="section-right">
                                        Детальніше
                                    </div>
                                </div>
                                <div class="section-inner">
                                    {% for lesson in section.lesson_set.all %}
                                        <div class="lesson">
                                            <div class="lesson-left">
                                                <h4>{{ lesson.name }}</h4>
                                                <p class="lesson-description">
                                                    {{ lesson.short_description }}
                                                </p>
                                            </div>
                                            <div class="lesson-right"><a href="#" class="button-more"><span
                                                    aria-hidden="true" class="glyphicon glyphicon-folder-open"></span>Детальніше</a>
                                            </div>
                                        </div>
                                    {% endfor %}
                                </div>
                            </div>
                        {% endfor %}
{#                        <div class="section">#}
{#                            #}
{#                            <div class="section-outer">#}
{#                                <div class="section-left">#}
{#                                    <h3>Name first</h3>#}
{#                                    <p class="section-discr">Lorem ipsum dolor sit amet, consectetur adipisicing elit. A molestiae repudiandae hic quia quis, corrupti magnam vitae laudantium quisquam delectus quasi totam nostrum reprehenderit. Necessitatibus quia error, recusandae quisquam asperiores?</p>#}
{#                                </div>#}
{#                                <div class="section-right">#}
{#                                    Детальніше#}
{#                                </div>#}
{#                            </div>#}
{#                            <div class="section-inner">#}
{#                                <div class="lesson">#}
{#                                    <div class="lesson-left">#}
{#                                        <h4>#1 lesson</h4>#}
{#                                        <p class="lesson-discr">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Maxime iusto rem unde pariatur asperiores suscipit reiciendis esse quas cupiditate earum.</p>#}
{#                                    </div>#}
{#                                    <div class="lesson-right"><a href="#" class="button-more"><span aria-hidden="true" class="glyphicon glyphicon-folder-open"></span>Детальніше</a></div>#}
{#                                </div>#}
{#                                <div class="lesson">#}
{#                                    <div class="lesson-left">#}
{#                                        <h4>#2 lesson</h4>#}
{#                                        <p class="lesson-discr">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Maxime iusto rem unde pariatur asperiores suscipit reiciendis esse quas cupiditate earum.</p>#}
{#                                    </div>#}
{#                                    <div class="lesson-right"><a href="#" class="button-more"><span aria-hidden="true" class="glyphicon glyphicon-folder-open"></span>Детальніше</a></div>#}
{#                                </div>#}
{#                            </div>#}
{#                        </div>#}
{#                        <div class="section active">#}
{#                            <div class="section-outer">#}
{#                                <div class="section-left">#}
{#                                    <h3>Name first</h3>#}
{#                                    <p class="section-discr">Lorem ipsum dolor sit amet, consectetur adipisicing elit. A molestiae repudiandae hic quia quis, corrupti magnam vitae laudantium quisquam delectus quasi totam nostrum reprehenderit. Necessitatibus quia error, recusandae quisquam asperiores?</p>#}
{#                                </div>#}
{#                                <div class="section-right">#}
{#                                    Сховати#}
{#                                </div>#}
{#                            </div>#}
{#                            <div class="section-inner">#}
{#                                <div class="lesson">#}
{#                                    <div class="lesson-left">#}
{#                                        <h4>#1 lesson</h4>#}
{#                                        <p class="lesson-discr">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Maxime iusto rem unde pariatur asperiores suscipit reiciendis esse quas cupiditate earum.</p>#}
{#                                    </div>#}
{#                                    <div class="lesson-right"><a href="#" class="button-more"><span aria-hidden="true" class="glyphicon glyphicon-folder-open"></span>Детальніше</a></div>#}
{#                                </div>#}
{#                                <div class="lesson">#}
{#                                    <div class="lesson-left">#}
{#                                        <h4>#2 lesson</h4>#}
{#                                        <p class="lesson-discr">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Maxime iusto rem unde pariatur asperiores suscipit reiciendis esse quas cupiditate earum.</p>#}
{#                                    </div>#}
{#                                    <div class="lesson-right"><a href="#" class="button-more"><span aria-hidden="true" class="glyphicon glyphicon-folder-open"></span>Детальніше</a></div>#}
{#                                </div>#}
{#                            </div>#}
{#                        </div>#}
{#                        <div class="section">#}
{#                            <div class="section-outer">#}
{#                                <div class="section-left">#}
{#                                    <h3>Name first</h3>#}
{#                                    <p class="section-discr">Lorem ipsum dolor sit amet, consectetur adipisicing elit. A molestiae repudiandae hic quia quis, corrupti magnam vitae laudantium quisquam delectus quasi totam nostrum reprehenderit. Necessitatibus quia error, recusandae quisquam asperiores?</p>#}
{#                                </div>#}
{#                                <div class="section-right">#}
{#                                    Детальніше#}
{#                                </div>#}
{#                            </div>#}
{#                            <div class="section-inner">#}
{#                                <div class="lesson">#}
{#                                    <div class="lesson-left">#}
{#                                        <h4>#1 lesson</h4>#}
{#                                        <p class="lesson-discr">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Maxime iusto rem unde pariatur asperiores suscipit reiciendis esse quas cupiditate earum.</p>#}
{#                                    </div>#}
{#                                    <div class="lesson-right"><a href="#" class="button-more"><span aria-hidden="true" class="glyphicon glyphicon-folder-open"></span>Детальніше</a></div>#}
{#                                </div>#}
{#                                <div class="lesson">#}
{#                                    <div class="lesson-left">#}
{#                                        <h4>#2 lesson</h4>#}
{#                                        <p class="lesson-discr">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Maxime iusto rem unde pariatur asperiores suscipit reiciendis esse quas cupiditate earum.</p>#}
{#                                    </div>#}
{#                                    <div class="lesson-right"><a href="#" class="button-more"><span aria-hidden="true" class="glyphicon glyphicon-folder-open"></span>Детальніше</a></div>#}
{#                                </div>#}
{#                            </div>#}
{#                        </div>#}
                    </div>
                    <div class="comments">
                        <h2>Коментарі:</h2>
                        <div class="comment">
                            <div class="comment-top">
                                <div class="comment-photo">
                                    <img src="https://www.mininuniver.ru//media/com_wmart/catalog/2016-06-28-16-31-23-4766-kirillova.jpg" alt="">
                                </div>
                                <div class="comment-info">
                                    <div class="comment-name">Прізвище І. Б.</div>
                                    <div class="comment-date">March 22, 2018</div>
                                    <div class="comment-rate"><span aria-hidden="true" class="glyphicon glyphicon-star"></span><span aria-hidden="true" class="glyphicon glyphicon-star"></span><span aria-hidden="true" class="glyphicon glyphicon-star"></span><span aria-hidden="true" class="glyphicon glyphicon-star-empty"></span><span aria-hidden="true" class="glyphicon glyphicon-star-empty"></span></div>
                                </div>
                            </div>
                            <div class="comment-content">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Culpa praesentium itaque pariatur soluta ipsam sapiente est obcaecati iste. Et, illo! Officia id in vel doloremque ab minima incidunt nam amet eligendi rem delectus, consequuntur, vero nemo corporis maiores error, culpa pariatur nulla quia fugit odio laboriosam suscipit praesentium, cupiditate. Nulla!</div>
                        </div>
                        <div class="comment">
                            <div class="comment-top">
                                <div class="comment-photo">
                                    <img src="https://www.mininuniver.ru//media/com_wmart/catalog/2016-06-28-16-31-23-4766-kirillova.jpg" alt="">
                                </div>
                                <div class="comment-info">
                                    <div class="comment-name">Прізвище І. Б.</div>
                                    <div class="comment-date">March 22, 2018</div>
                                    <div class="comment-rate"><span aria-hidden="true" class="glyphicon glyphicon-star"></span><span aria-hidden="true" class="glyphicon glyphicon-star"></span><span aria-hidden="true" class="glyphicon glyphicon-star"></span><span aria-hidden="true" class="glyphicon glyphicon-star-empty"></span><span aria-hidden="true" class="glyphicon glyphicon-star-empty"></span></div>
                                </div>
                            </div>
                            <div class="comment-content">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Culpa praesentium itaque pariatur soluta ipsam sapiente est obcaecati iste. Et, illo! Officia id in vel doloremque ab minima incidunt nam amet eligendi rem delectus, consequuntur, vero nemo corporis maiores error, culpa pariatur nulla quia fugit odio laboriosam suscipit praesentium, cupiditate. Nulla!</div>
                        </div>
                        <div class="comment">
                            <div class="comment-top">
                                <div class="comment-photo">
                                    <img src="https://www.mininuniver.ru//media/com_wmart/catalog/2016-06-28-16-31-23-4766-kirillova.jpg" alt="">
                                </div>
                                <div class="comment-info">
                                    <div class="comment-name">Прізвище І. Б.</div>
                                    <div class="comment-date">March 22, 2018</div>
                                    <div class="comment-rate"><span aria-hidden="true" class="glyphicon glyphicon-star"></span><span aria-hidden="true" class="glyphicon glyphicon-star"></span><span aria-hidden="true" class="glyphicon glyphicon-star"></span><span aria-hidden="true" class="glyphicon glyphicon-star-empty"></span><span aria-hidden="true" class="glyphicon glyphicon-star-empty"></span></div>
                                </div>
                            </div>
                            <div class="comment-content">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Culpa praesentium itaque pariatur soluta ipsam sapiente est obcaecati iste. Et, illo! Officia id in vel doloremque ab minima incidunt nam amet eligendi rem delectus, consequuntur, vero nemo corporis maiores error, culpa pariatur nulla quia fugit odio laboriosam suscipit praesentium, cupiditate. Nulla!</div>
                        </div>
                        <div class="button-wrap">
                            <a href="#" class="button-try"><span aria-hidden="true" class="glyphicon glyphicon-refresh"></span>Переглянути ще</a>
                            <a href="#" class="button-try button-add"><span aria-hidden="true" class="glyphicon glyphicon-pencil"></span>Додати коментар</a>
                            <!-- <a href="#" class="button">glyphicon glyphicon-refresh</a> -->
                        </div>
                    </div>



                    <!-- Button trigger modal -->
                    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter">
                      Launch demo modal
                    </button>

                    <!-- Modal -->
                    <div class="modal fade modal-lesson" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                      <div class="modal-dialog modal-lg modal-dialog-centered " role="document">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLongTitle">Lesson #1</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>
                          <div class="modal-body">
                            <div class="date">
                                <div class="left"><h4>Дата створення:</h4> <span>March 22, 2018</span></div>
                                <div class="right"><h4>Дата редагування:</h4> <span>March 22, 2018</span></div>
                            </div>
                            <h3>Опис заняття:</h3>
                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iste commodi, reprehenderit nobis, numquam magni esse, voluptatibus necessitatibus illo deleniti accusamus modi inventore. Dignissimos fuga voluptas recusandae autem fugiat totam quasi animi nisi rerum aperiam corrupti quisquam iste labore molestiae, omnis ex voluptatibus, officiis. Libero magni nam voluptates incidunt veritatis doloremque at aliquid dicta exercitationem expedita deserunt nesciunt quam pariatur quia molestias voluptatum maiores nulla, repellat obcaecati amet, autem? Architecto sequi deserunt fugit totam cupiditate sint distinctio libero officiis eaque excepturi eveniet nostrum voluptatum ex tempore illum minus voluptatem nisi consectetur, laboriosam adipisci non dolorum. Perferendis quia unde ipsa soluta natus.</p>
                            <h3>Посилання:</h3>
                            <ul>
                                <li><a href="#">link#1</a></li>
                                <li><a href="#">link#2</a></li>
                                <li><a href="#">link#3</a></li>
                                <li><a href="#">link#4</a></li>
                            </ul>
                            <h3>Додаткові файли:</h3>
                            <ul>
                                <li><a href="#">link#1</a></li>
                                <li><a href="#">link#2</a></li>
                                <li><a href="#">link#3</a></li>
                                <li><a href="#">link#4</a></li>
                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>


                </div>
            </div>
            <div class="col-sm-3 col-sm-offset-1">
                <div class="author">
                    {% with author=course.author  %}
                        <!-- <h2>Автор курсу:</h2> -->
                        <img src="{{ author.photo.url }}" alt="Course Author">
                        <p>
                            <a href="{{ author.get_absolute_url }}">{{ author.user.first_name }} {{ author.user.last_name }}</a>
                        </p>
                    {% endwith %}
                </div>
                <div class="item-about-course theme">
                    Категорії:
                    {% for category in course.categories.all %}
                        {% if forloop.last %}
                            {# Останню категорію виводимо без коми #}
                            <span class="label label-info">{{ category.name }}</span>
                        {% else %}
                            <span class="label label-info">{{ category.name }}</span>,
                        {% endif %}
                    {% empty %}
                        <span class="text-muted">категорії відсутні</span>
                    {% endfor %}
                </div>
                <div class="item-about-course sections">Розділів: <span>{{ course.module_set.all.count }}</span></div>
                <div class="item-about-course lessons">Уроків: <span>{{ course.lesson_count }}</span></div>
                <div class="item-about-course durability">Тривалість: <span><span class="text-danger">TODO</span></span></div>
                <div class="item-about-course subscribers">Підписались: <span>{{ course.students.count }}</span></div>
                <div class="button-wrap">
                {% with visitor=request.user %}
                    {% if visitor.profile.is_student %}
                        {% if visitor_subscribed %}
                            <a href="#" class="button-try button-untry"><span aria-hidden="true" class="glyphicon glyphicon-erase"></span>Відписатися</a>
                        {% else %}
                            <a href="#" class="button-try"><span aria-hidden="true" class="glyphicon glyphicon-pencil"></span>Записатися</a>
                        {% endif %}
                    {% elif visitor.profile == course.author %}
                        <a href="#" class="button-try btn-primary"><span aria-hidden="true" class="glyphicon glyphicon-pencil"></span>Редагувати</a>
                    {% endif %}
                {% endwith %}
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid content more-courses">
        <div class="row">
            <div class="col-sm-12">
                <h2>Можливо вам також буде цікаво:</h2>
                <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
                    <!-- Indicators -->
                    <ol class="carousel-indicators">
                        <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
                        <li data-target="#carousel-example-generic" data-slide-to="1"></li>
                        <li data-target="#carousel-example-generic" data-slide-to="2"></li>
                    </ol>

                    <!-- Wrapper for slides -->
                    <div class="carousel-inner" role="listbox">
                        <div class="item active">
                            <img class="center-block" src="https://www.mininuniver.ru//media/com_wmart/catalog/2016-06-28-16-31-23-4766-kirillova.jpg" alt="...">
                            <div class="carousel-caption">
                                Photo 1
                            </div>
                        </div>
                        <div class="item">
                            <img class="center-block" src="https://www.mininuniver.ru//media/com_wmart/catalog/2016-06-28-16-31-23-4766-kirillova.jpg" alt="...">
                            <div class="carousel-caption">
                                Photo 2
                            </div>
                        </div>
                        <div class="item">
                            <img class="center-block" src="https://www.mininuniver.ru//media/com_wmart/catalog/2016-06-28-16-31-23-4766-kirillova.jpg" alt="...">
                            <div class="carousel-caption">
                                Photo 3
                            </div>
                        </div>
                    </div>

                    <!-- Controls -->
                    <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
                        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
                        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>
        </div>
    </div>



{% endblock %}

{% block footer %}

{#  Додаткові скрипти тут  #}

<script>
    $(function() {
        $window = $(window);
        $('div[data-type="background"]').each(function(){
            var $bgobj = $(this);
            $(window).scroll(function() {
                var yPos = -($window.scrollTop() / $bgobj.data('speed')); 
                var coords = '50% '+ yPos + 'px';
                $bgobj.css({ backgroundPosition: coords });
            }); 
        });
        $('#carouselExampleIndicators').carousel();

        $('.section-right').click(function () {
            var section = $(this).parents('.section');
            if (section.hasClass('active')) {
                section.find('.section-inner').slideUp();
                section.removeClass('active');
            }
            else {
                section.find('.section-inner').slideDown();
                section.addClass('active');
            }
        })
    });
</script>

{% endblock %}